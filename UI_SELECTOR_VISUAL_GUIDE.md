# New Report Selector UI - Visual Guide

## Selector Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Generate Custom Report                            â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Target Audience     â”‚  â”‚ Report Period       â”‚         â”‚
â”‚  â”‚                     â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ [Exec â–¼]           â”‚  â”‚ [Period Type â–¼]    â”‚         â”‚
â”‚  â”‚ - Executive Lead... â”‚  â”‚ - Month            â”‚         â”‚
â”‚  â”‚ - IT/Technical Team â”‚  â”‚ - Quarter          â”‚         â”‚
â”‚  â”‚ - End Users        â”‚  â”‚ - Year             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Select Month        â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ (Hidden until       â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚  Month is selected) â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚                     â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ [Month â–¼]          â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ - January          â”‚  â”‚ [Generate Report]  â”‚         â”‚
â”‚  â”‚ - February         â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ - ...              â”‚  â”‚                     â”‚         â”‚
â”‚  â”‚ - December         â”‚  â”‚                     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                             â”‚
â”‚  Alternative: Period Type = Quarter                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ Select Quarter      â”‚                                   â”‚
â”‚  â”‚                     â”‚                                   â”‚
â”‚  â”‚ [Quarter â–¼]        â”‚                                   â”‚
â”‚  â”‚ - Q1 (Jan-Mar)     â”‚                                   â”‚
â”‚  â”‚ - Q2 (Apr-Jun)     â”‚                                   â”‚
â”‚  â”‚ - Q3 (Jul-Sep)     â”‚                                   â”‚
â”‚  â”‚ - Q4 (Oct-Dec)     â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                             â”‚
â”‚  Alternative: Period Type = Year                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ Select Year         â”‚                                   â”‚
â”‚  â”‚                     â”‚                                   â”‚
â”‚  â”‚ [Year â–¼]           â”‚                                   â”‚
â”‚  â”‚ - 2024             â”‚                                   â”‚
â”‚  â”‚ - 2025             â”‚                                   â”‚
â”‚  â”‚ - 2026             â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Interaction Flow

### Step 1: Select Audience
```
User clicks: Target Audience dropdown
             â†“
Shows three options:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹ Executive Leadership      â”‚
â”‚ â—‹ IT/Technical Team        â”‚
â”‚ â—‹ End Users                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
User selects: Executive Leadership
```

### Step 2: Select Period Type
```
User clicks: Report Period dropdown
             â†“
Shows three options:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹ Month                      â”‚
â”‚ â—‹ Quarter                    â”‚
â”‚ â—‹ Year                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
User selects: Month
             â†“
monthSelectorDiv appears
```

### Step 3: Select Specific Period
```
User clicks: Select Month dropdown
             â†“
Shows month options:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¡ January                   â”‚
â”‚ â–¡ February                  â”‚
â”‚ â–¡ March                     â”‚
â”‚ ...                         â”‚
â”‚ â–¡ December                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
User selects: January
```

### Step 4: Generate Report
```
User clicks: Generate Report button
             â†“
Button shows: â³ Generating...
Button disabled: true
             â†“
API call: /api/reports/generate?
          audience=exec&
          period_type=month&
          period=01
             â†“
Backend processes (< 1 second)
             â†“
Button shows: ğŸ“‹ Generate Report
Button disabled: false
             â†“
Report displays:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Report Header                         â”‚
â”‚ Period: January 2026                  â”‚
â”‚ Generated: Jan 5, 2026 3:45 PM UTC   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Executive Summary...                  â”‚
â”‚                                       â”‚
â”‚ [Trend Chart - Daily for Month]       â”‚
â”‚                                       â”‚
â”‚ [Top Threats, APTs, etc...]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Conditional Display Logic (JavaScript)

```javascript
// Initial state - all sub-selectors hidden
monthSelectorDiv.style.display = 'none'
yearSelectorDiv.style.display = 'none'
quarterSelectorDiv.style.display = 'none'

// User changes period type
timePeriodSelect.addEventListener('change', function() {
  // Hide all first
  monthSelectorDiv.style.display = 'none'
  yearSelectorDiv.style.display = 'none'
  quarterSelectorDiv.style.display = 'none'
  
  // Show relevant one
  if (this.value === 'month') {
    monthSelectorDiv.style.display = 'block'
  } else if (this.value === 'year') {
    yearSelectorDiv.style.display = 'block'
  } else if (this.value === 'quarter') {
    quarterSelectorDiv.style.display = 'block'
  }
})
```

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           USER STATE TRACKING                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  audienceSelect.value = ""      [Initial]           â”‚
â”‚  timePeriodSelect.value = ""    [Initial]           â”‚
â”‚  monthSelect.value = ""         [Initial]           â”‚
â”‚  quarterSelect.value = ""       [Initial]           â”‚
â”‚  yearSelect.value = ""          [Initial]           â”‚
â”‚                                                      â”‚
â”‚  After User Selections:                             â”‚
â”‚  audienceSelect.value = "exec"  [User selected]     â”‚
â”‚  timePeriodSelect.value = "month" [User selected]   â”‚
â”‚  monthSelect.value = "01"       [User selected]     â”‚
â”‚                                                      â”‚
â”‚  All three values required for "Generate":          â”‚
â”‚  if (!audience || !periodType || !period)           â”‚
â”‚      alert('Please select all fields')              â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Report Header Changes

### Old Format (30/60/90 Days)
```
Security Executive Report
Report Period: Last 30 Days
Generated: January 5, 2026 at 3:45 PM UTC
```

### New Format (Month/Quarter/Year)
```
Security Executive Report
Report Period: January 2026
Generated: January 5, 2026 at 3:45 PM UTC
```

```
Security Executive Report
Report Period: Q2 2026
Generated: January 5, 2026 at 3:45 PM UTC
```

```
Security Executive Report
Report Period: 2026
Generated: January 5, 2026 at 3:45 PM UTC
```

## Trend Chart Data Format

### Monthly Report
```
X-Axis Labels: 01/01, 01/02, 01/03, ... 01/31
Y-Axis: Count (0-N)
Bars: Malware (blue) vs Phishing (red)
Pattern: Shows daily pattern within the month
```

### Quarterly Report
```
X-Axis Labels: 01/01, 01/06, 01/11, 01/16, ... 06/30
Y-Axis: Count (0-N)
Bars: Malware (blue) vs Phishing (red)
Pattern: Every 5th day shown (to avoid crowding)
Total Points: ~90
```

### Yearly Report
```
X-Axis Labels: 01/01, 01/06, 01/11, ... 12/31
Y-Axis: Count (0-N)
Bars: Malware (blue) vs Phishing (red)
Pattern: Every 5th day shown
Total Points: ~365
```

## Download Filename Format

### Old Format
```
TITAN_Report_exec_30days_2026-01-05.html
TITAN_Report_it_60days_2026-01-05.html
TITAN_Report_users_90days_2026-01-05.html
```

### New Format
```
TITAN_Report_exec_January_2026-01-05.html
TITAN_Report_it_Q2_2026-01-05.html
TITAN_Report_users_2026_2026-01-05.html
```

## Validation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User clicks "Generate Report"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Get form values â”‚
       â”‚ audience        â”‚
       â”‚ periodType      â”‚
       â”‚ period          â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                       â”‚
    â–¼                       â–¼
Any null or     All values
empty values?   present?
    â”‚                â”‚
    â”‚ YES             â”‚ NO
    â”‚                 â”‚
    â–¼                 â–¼
Show Alert      Disable button
"Select all"    Show loading
                "â³ Generating..."
                        â”‚
                        â–¼
                  Call API with:
                  audience=X
                  period_type=Y
                  period=Z
                        â”‚
                        â–¼
                  Backend processes
                        â”‚
                        â–¼
                  Return HTML
                        â”‚
                        â–¼
                  Display report
                  Enable button
                  "ğŸ“‹ Generate"
```

## Summary

| Aspect | Details |
|--------|---------|
| **Main Selectors** | Audience + Period Type |
| **Sub Selectors** | Month/Quarter/Year (conditional) |
| **Month Option** | Dropdown 1-12 |
| **Quarter Option** | Dropdown Q1-Q4 |
| **Year Option** | Dropdown 2024-2026 |
| **Validation** | All three selections required |
| **Chart Data** | Daily data (auto-formatted labels) |
| **Report Header** | Shows period_label (e.g., "January 2026") |
| **Download Name** | Includes period value |
| **Data Range** | Exact month/quarter/year dates |
